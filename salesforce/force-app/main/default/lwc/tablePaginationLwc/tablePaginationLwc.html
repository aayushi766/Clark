<template>
    <div class="slds-m-aroung_small slds-align_absolute-center">
        <lightning-spinner if:true={isLoading} alternative-text="Loading" size="small"></lightning-spinner>
    </div>
    <div class="slds-m-top_small"></div>
        <div class="slds-m-aroung_small">
        <template if:true={showTable}>
            <template if:true={showCheckboxColumnParam}>
                <!--<lightning-datatable
                key-field="id"
                data={recordsToDisplay}
                show-row-number-column="false"
                show-checkbox-column
                columns={columns}
                onrowaction={handleRowAction}
                default-sort-direction={defaultSortDirection}
                sorted-direction={sortDirection}
                sorted-by={sortedBy} 
                onsort={onHandleSort}
                draft-values={draftValues} 
                selected-rows={preSelectedRows}
                onrowselection={rowSelectionEvent}
                >
                </lightning-datatable>-->
                <lightning-datatable
                key-field="id"
                data={recordsToDisplay} 
                show-row-number-column="false"
                show-checkbox-column
                columns={columns}
                onrowaction={handleRowAction}
                default-sort-direction={defaultSortDirection}
                sorted-direction={sortDirection}
                sorted-by={sortedBy}
                onsort={onHandleSort}
                onsave={handleSave} 
                draft-values={draftValues} 
                selected-rows={preSelectedRows}
                onrowselection={rowSelectionEvent}
            >
            </lightning-datatable>
            </template>
            <template if:false={showCheckboxColumnParam}>
                <lightning-datatable
                key-field="Id"
                data={recordsToDisplay}
                columns={columns}
                show-row-number-column 
                hide-checkbox-column  
                default-sort-direction={defaultSortDirection}
                sorted-direction={sortDirection} 
                sorted-by={sortedBy} 
                onsort={onHandleSort}
                >
                 <!---->
                </lightning-datatable>
            </template>
           
        </template>
    </div>
    <div class="slds-m-top_small"></div>
    <h2
    class="slds-m-aroung_small slds-align_absolute-center"
    style="color: firebrick;"
    >
    Page No:
    <strong>&nbsp;{pageNo}/{totalPages}&nbsp;</strong>and displaying records
    <template if:true={end}>
         from {endRecord}/{totalRecords}
    </template>
    <template if:false={end}>
        from ({startRecord}-{endRecord})/{totalRecords}
    </template>
    </h2>
    <div class="slds-m-top_small"></div>
     
    <div slot="actions" class="slds-m-aroung_small slds-align_absolute-center">
        <lightning-button
        variant="neutral"
        title="first"
        label="First"
        class="slds-float_left"
        icon-name="utility:chevronleft"
        icon-position="left"
        onclick={handleClick}
        ></lightning-button>
        &nbsp;
        <lightning-button
        variant="neutral"
        title="previous"
        class="slds-float_left"
        label="Previous"
        icon-name="utility:chevronleft"
        icon-position="left"
        onclick={handleClick}
        ></lightning-button>
        <template if:true={pagelinks}>
            &nbsp;
            <lightning-button-menu alternative-text="Page Link" label="Page Link">
                <template for:each={pagelinks} for:item="page">
                    <lightning-menu-item value={page} label={page}  onclick={handlePage} key={page}></lightning-menu-item>
                </template>
            </lightning-button-menu>
            &nbsp;
        </template>
        <lightning-button
        variant="neutral"
        title="next"
        class="slds-float_right"
        label="Next"
        icon-name="utility:chevronright"
        icon-position="right"
        onclick={handleClick}
        ></lightning-button>
        &nbsp;
        <lightning-button
        variant="neutral"
        title="last"
        class="slds-float_right"
        label="Last"
        icon-name="utility:chevronright"
        icon-position="right"
        onclick={handleClick}
        ></lightning-button>
    </div>
</template>